{"remainingRequest":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/src/views/Stats.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/src/views/Stats.vue","mtime":1593154187423},{"path":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwoKaW1wb3J0IGZiIGZyb20gJ0AvZmInCmltcG9ydCBpbmZvIGZyb20gJ0AvaW5mb3JtYXRpb24nCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24oKXsKICAgIHJldHVybnsKICAgICAgZGF0ZVN0YXRzOiBudWxsLAogICAgICBzdGF0c1NlYXJjaDogJycsCiAgICAgIHN0YXRzSGVhZGVyczogWwogICAgICAgIHsgdGV4dDogJ051bScsIAogICAgICAgIHZhbHVlOiAncGxheWVyTnVtJywKICAgICAgICBhbGlnbjogJ3N0YXJ0JywKICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0ZXh0OiAnSnVnYWRvcicsCiAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsCiAgICAgICAgICB2YWx1ZTogJ3BsYXllck5hbWUnLAogICAgICAgIH0sCiAgICAgICAgeyB0ZXh0OiAnR29sZXMnLCB2YWx1ZTogJ2dvYWxzUGxheWVyJyB9LAogICAgICAgIHsgdGV4dDogJ0FtYXJpbGxhcycsIHZhbHVlOiAneWVsbG93Q2FyZFBsYXllcicgfSwKICAgICAgICB7IHRleHQ6ICdSb2phcycsIHZhbHVlOiAncmVkQ2FyZFBsYXllcicgfSwKICAgICAgICBdLAogICAgICBzdGF0c1RhYmxlOiBbCiAgICAgIF0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNlYXJjaFBsYXllcjogZnVuY3Rpb24oaWQpewogICAgICBsZXQgZm91bmQgPSBmYWxzZTsKICAgICAgbGV0IGkgPSAwOwogICAgICBsZXQgc2l6ZSA9IGluZm8ucGxheWVyc0xpc3QubGVuZ3RoOwogICAgICBsZXQgbmFtZSA9ICJObyBkaXNwb25pYmxlIjsKCiAgICAgIHdoaWxlKGk8c2l6ZSAmJiAhZm91bmQpewogICAgICAgIGlmKGluZm8ucGxheWVyc0xpc3RbaV0ucGxheWVyTnVtYmVyID09IGlkKXsKICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICAgIG5hbWUgPSBpbmZvLnBsYXllcnNMaXN0W2ldLnBsYXllck5hbWU7CiAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICBpKys7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbmFtZTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uKCl7CgogICAgdGhpcy5kYXRlU3RhdHMgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCdlbi1HQicpOwoKICAgIGZiLmRiLmNvbGxlY3Rpb24oJ1N0YXRzJykub25TbmFwc2hvdChyZXMgPT4gewogICAgICBjb25zdCBjaGFuZ2VzID0gcmVzLmRvY0NoYW5nZXMoKTsKCiAgICAgIGNoYW5nZXMuZm9yRWFjaChjaGFuZ2UgPT4gewogICAgICAgIAogICAgICAgIGlmKGNoYW5nZS50eXBlID09PSAnYWRkZWQnKXsKICAgICAgICAgIGxldCB0ID0gY2hhbmdlLmRvYy5kYXRhKCk7CiAgICAgICAgICBsZXQgbmFtZSA9IHRoaXMuc2VhcmNoUGxheWVyKHQucGxheWVyTnVtKTsKICAgICAgICAgIGxldCBvYmogPSB7CiAgICAgICAgICAgIHBsYXllck51bTogdC5wbGF5ZXJOdW0sCiAgICAgICAgICAgIHBsYXllck5hbWU6IG5hbWUsCiAgICAgICAgICAgIGdvYWxzUGxheWVyOiB0LmdvYWxzUGxheWVyLAogICAgICAgICAgICB5ZWxsb3dDYXJkUGxheWVyOiB0LnllbGxvd0NhcmRQbGF5ZXIsCiAgICAgICAgICAgIHJlZENhcmRQbGF5ZXI6IHQucmVkQ2FyZFBsYXllcgogICAgICAgICAgfQogICAgICAgICAgCiAgICAgICAgICBpZihuYW1lICE9ICJObyBkaXNwb25pYmxlIil7CiAgICAgICAgICB0aGlzLnN0YXRzVGFibGUucHVzaChvYmopOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9KQogIH0KfQo="},{"version":3,"sources":["Stats.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Stats.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"stats\">\n    <h1>TroyaWEB (Estad√≠sticas)</h1>  \n    <v-card style=\"width: 400px\" class=\"hidden-md-and-up\">\n    <v-card-title>\n      <v-text-field\n        v-model=\"statsSearch\"\n        append-icon=\"mdi-magnify\"\n        label=\"Buscar jugador\"\n        single-line\n        hide-details\n      ></v-text-field>\n    </v-card-title>\n    <v-data-table\n      hide-default-footer\n      mobile-breakpoint=\"0\"\n      :headers=\"statsHeaders\"\n      :items=\"statsTable\"\n      :search=\"statsSearch\"\n      :sort-by=\"['playerNum']\"\n      :sort-desc=\"[false]\"\n      :footer-props=\"{'items-per-page-options':[-1]}\"\n    ></v-data-table>\n  </v-card> \n\n  <v-card style=\"width: 1000px\" class=\"hidden-sm-and-down\">\n    <v-card-title>\n      <v-text-field\n        v-model=\"statsSearch\"\n        append-icon=\"mdi-magnify\"\n        label=\"Buscar jugador\"\n        single-line\n        hide-details\n      ></v-text-field>\n    </v-card-title>\n    <v-data-table\n      hide-default-footer\n      mobile-breakpoint=\"0\"\n      :headers=\"statsHeaders\"\n      :items=\"statsTable\"\n      :search=\"statsSearch\"\n      :sort-by=\"['playerNum']\"\n      :sort-desc=\"[false]\"\n      :footer-props=\"{'items-per-page-options':[-1]}\"\n    ></v-data-table>\n  </v-card>\n\n  <p id=\"updateStatsText\">Actualizado a: {{dateStats}}</p> \n\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\nimport fb from '@/fb'\nimport info from '@/information'\n\nexport default {\n  data: function(){\n    return{\n      dateStats: null,\n      statsSearch: '',\n      statsHeaders: [\n        { text: 'Num', \n        value: 'playerNum',\n        align: 'start',\n        sortable: false,\n        },\n        {\n          text: 'Jugador',\n          sortable: false,\n          value: 'playerName',\n        },\n        { text: 'Goles', value: 'goalsPlayer' },\n        { text: 'Amarillas', value: 'yellowCardPlayer' },\n        { text: 'Rojas', value: 'redCardPlayer' },\n        ],\n      statsTable: [\n      ]\n    }\n  },\n  methods: {\n    searchPlayer: function(id){\n      let found = false;\n      let i = 0;\n      let size = info.playersList.length;\n      let name = \"No disponible\";\n\n      while(i<size && !found){\n        if(info.playersList[i].playerNumber == id){\n          found = true;\n          name = info.playersList[i].playerName;\n        }\n        else{\n          i++;\n        }\n      }\n\n      return name;\n    }\n  },\n  created: function(){\n\n    this.dateStats = new Date().toLocaleString('en-GB');\n\n    fb.db.collection('Stats').onSnapshot(res => {\n      const changes = res.docChanges();\n\n      changes.forEach(change => {\n        \n        if(change.type === 'added'){\n          let t = change.doc.data();\n          let name = this.searchPlayer(t.playerNum);\n          let obj = {\n            playerNum: t.playerNum,\n            playerName: name,\n            goalsPlayer: t.goalsPlayer,\n            yellowCardPlayer: t.yellowCardPlayer,\n            redCardPlayer: t.redCardPlayer\n          }\n          \n          if(name != \"No disponible\"){\n          this.statsTable.push(obj);\n          }\n        }\n      });\n    })\n  }\n}\n</script>\n"]}]}
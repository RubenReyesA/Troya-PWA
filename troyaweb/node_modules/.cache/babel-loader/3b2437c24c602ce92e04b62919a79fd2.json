{"remainingRequest":"/Volumes/DATA SHARE/RepoGitHub/Troya-PWA/troyaweb/node_modules/babel-loader/lib/index.js!/Volumes/DATA SHARE/RepoGitHub/Troya-PWA/troyaweb/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Volumes/DATA SHARE/RepoGitHub/Troya-PWA/troyaweb/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/DATA SHARE/RepoGitHub/Troya-PWA/troyaweb/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/DATA SHARE/RepoGitHub/Troya-PWA/troyaweb/src/views/Calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/DATA SHARE/RepoGitHub/Troya-PWA/troyaweb/src/views/Calendar.vue","mtime":1601203359027},{"path":"/Volumes/DATA SHARE/RepoGitHub/Troya-PWA/troyaweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/DATA SHARE/RepoGitHub/Troya-PWA/troyaweb/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/DATA SHARE/RepoGitHub/Troya-PWA/troyaweb/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Volumes/DATA SHARE/RepoGitHub/Troya-PWA/troyaweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/DATA SHARE/RepoGitHub/Troya-PWA/troyaweb/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVm9sdW1lcy9EQVRBIFNIQVJFL1JlcG9HaXRIdWIvVHJveWEtUFdBL3Ryb3lhd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCBpbmZvIGZyb20gIkAvaW5mb3JtYXRpb24iOwppbXBvcnQgZmIgZnJvbSAiQC9mYiI7CmV4cG9ydCBkZWZhdWx0IHsKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLmluaXQoKTsKICAgIGZiLmRiLmNvbGxlY3Rpb24oIlJlc3VsdGFkb3MiKS5vblNuYXBzaG90KGZ1bmN0aW9uIChyZXMpIHsKICAgICAgdmFyIGNoYW5nZXMgPSByZXMuZG9jQ2hhbmdlcygpOwogICAgICBjaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24gKGNoYW5nZSkgewogICAgICAgIGlmIChjaGFuZ2UudHlwZSA9PT0gImFkZGVkIikgewogICAgICAgICAgX3RoaXMucmVzdWx0c0xpc3QucHVzaChfb2JqZWN0U3ByZWFkKHt9LCBjaGFuZ2UuZG9jLmRhdGEoKSkpOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICBfdGhpcy5zZXRSZXN1bHQoKTsKICAgIH0pOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGpOdW06IDAsCiAgICAgIGltZzogbnVsbCwKICAgICAgcmVzdWx0c0xpc3Q6IFtdLAogICAgICBjdXJyZW50UmVzdWx0OiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG1vdmVKb3JuYWRhOiBmdW5jdGlvbiBtb3ZlSm9ybmFkYShkaXJlY3Rpb24pIHsKICAgICAgaWYgKGRpcmVjdGlvbiA9PSAwKSB7CiAgICAgICAgaWYgKHRoaXMuak51bSA+IDEpIHsKICAgICAgICAgIHRoaXMuak51bS0tOwogICAgICAgICAgdGhpcy5pbWcgPSByZXF1aXJlKCJAL2Fzc2V0cy9Kb3JuYWRhcy9qIiArIHRoaXMuak51bSArICIucG5nIik7CiAgICAgICAgICB0aGlzLnNldFJlc3VsdCgpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gMSkgewogICAgICAgIGlmICh0aGlzLmpOdW0gPCAzMCkgewogICAgICAgICAgdGhpcy5qTnVtKys7CiAgICAgICAgICB0aGlzLmltZyA9IHJlcXVpcmUoIkAvYXNzZXRzL0pvcm5hZGFzL2oiICsgdGhpcy5qTnVtICsgIi5wbmciKTsKICAgICAgICAgIHRoaXMuc2V0UmVzdWx0KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2V0UmVzdWx0OiBmdW5jdGlvbiBzZXRSZXN1bHQoKSB7CiAgICAgIHZhciBpID0gMDsKICAgICAgdmFyIGZvdW5kID0gZmFsc2U7CiAgICAgIHZhciBzaXplID0gdGhpcy5yZXN1bHRzTGlzdC5sZW5ndGg7CgogICAgICB3aGlsZSAoaSA8IHNpemUgJiYgIWZvdW5kKSB7CiAgICAgICAgaWYgKHRoaXMuak51bSA9PSB0aGlzLnJlc3VsdHNMaXN0W2ldLmpOdW0pIHsKICAgICAgICAgIGZvdW5kID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaSsrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGZvdW5kKSB7CiAgICAgICAgdGhpcy5jdXJyZW50UmVzdWx0ID0gdGhpcy5yZXN1bHRzTGlzdFtpXS5SZXN1bHQ7CiAgICAgIH0KICAgIH0sCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICBEYXRlLnByb3RvdHlwZS5nZXRXZWVrID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBkdCA9IHRoaXM7CiAgICAgICAgdmFyIHRkdCA9IG5ldyBEYXRlKGR0LnZhbHVlT2YoKSk7CiAgICAgICAgdmFyIGRheW4gPSAoZHQuZ2V0RGF5KCkgKyA2KSAlIDc7CiAgICAgICAgdGR0LnNldERhdGUodGR0LmdldERhdGUoKSAtIGRheW4gKyAzKTsKICAgICAgICB2YXIgZmlyc3RUaHVyc2RheSA9IHRkdC52YWx1ZU9mKCk7CiAgICAgICAgdGR0LnNldE1vbnRoKDAsIDEpOwoKICAgICAgICBpZiAodGR0LmdldERheSgpICE9PSA0KSB7CiAgICAgICAgICB0ZHQuc2V0TW9udGgoMCwgMSArICg0IC0gdGR0LmdldERheSgpICsgNykgJSA3KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAxICsgTWF0aC5jZWlsKChmaXJzdFRodXJzZGF5IC0gdGR0KSAvIDYwNDgwMDAwMCk7CiAgICAgIH07CgogICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgdG9kYXlXZWVrID0gdG9kYXkuZ2V0V2VlaygpOwogICAgICB2YXIgbWF0Y2hJbmRleCA9IHRoaXMubG9va0Zvck1hdGNoKHRvZGF5V2Vlayk7CgogICAgICBpZiAobWF0Y2hJbmRleCA9PSAtMSkgewogICAgICAgIHRoaXMuak51bSA9IDE1OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuak51bSA9IGluZm8ubWF0Y2hlc1ttYXRjaEluZGV4XS5qOwogICAgICB9CgogICAgICB0aGlzLmltZyA9IHJlcXVpcmUoIkAvYXNzZXRzL0pvcm5hZGFzL2oiICsgdGhpcy5qTnVtICsgIi5wbmciKTsKICAgIH0sCiAgICBzcGxpdERhdGU6IGZ1bmN0aW9uIHNwbGl0RGF0ZShmZWNoYSkgewogICAgICB2YXIgYXJyYXkgPSBmZWNoYS5zcGxpdCgiLyIpOwogICAgICBhcnJheVswXSA9IE51bWJlcihhcnJheVswXSk7CiAgICAgIGFycmF5WzFdID0gTnVtYmVyKGFycmF5WzFdKTsKICAgICAgYXJyYXlbMl0gPSBOdW1iZXIoYXJyYXlbMl0pOwogICAgICByZXR1cm4gYXJyYXkucmV2ZXJzZSgpOwogICAgfSwKICAgIGxvb2tGb3JNYXRjaDogZnVuY3Rpb24gbG9va0Zvck1hdGNoKHdlZWspIHsKICAgICAgdmFyIGZvdW5kID0gZmFsc2U7CiAgICAgIHZhciBpID0gMDsKICAgICAgdmFyIHNpemUgPSBpbmZvLm1hdGNoZXMubGVuZ3RoOwoKICAgICAgd2hpbGUgKGkgPCBzaXplICYmICFmb3VuZCkgewogICAgICAgIHZhciBhcnJheSA9IHRoaXMuc3BsaXREYXRlKGluZm8ubWF0Y2hlc1tpXS5kYXRlKTsKICAgICAgICB2YXIgdGVzdERhdGUgPSBuZXcgRGF0ZShhcnJheVswXSwgYXJyYXlbMV0gLSAxLCBhcnJheVsyXSk7CiAgICAgICAgdmFyIG1hdGNoV2VlayA9IHRlc3REYXRlLmdldFdlZWsoKTsKCiAgICAgICAgaWYgKG1hdGNoV2VlayA9PSB3ZWVrKSB7CiAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGkrKzsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChmb3VuZCkgewogICAgICAgIHJldHVybiBpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAtMTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"home\">\n\n    <div class=\"try\">\n      <v-toolbar class=\"toolbarPage teal lighten-4 black--text\">\n        <v-spacer></v-spacer>\n\n        <v-toolbar-title>Calendario</v-toolbar-title>\n\n        <v-spacer></v-spacer>\n      </v-toolbar>\n\n      <v-toolbar class=\"toolbarJornada indigo lighten-4 black--text\">\n        <v-btn icon @click=\"moveJornada(0)\" class=\"black--text\">\n          <v-icon>mdi-arrow-left-bold</v-icon>\n        </v-btn>\n\n        <v-spacer></v-spacer>\n\n        <v-toolbar-title>Jornada {{jNum}}</v-toolbar-title>\n\n        <v-spacer></v-spacer>\n\n        <v-btn icon @click=\"moveJornada(1)\" class=\"black--text\">\n          <v-icon>mdi-arrow-right-bold</v-icon>\n        </v-btn>\n      </v-toolbar>\n\n      <v-card id=\"imgJornada\">\n        <v-img :src=\"img\" style=\"margin:10px\"></v-img>\n      </v-card>\n\n      <v-card id=\"resultJornada\">\n        <h4>Resultado:</h4>\n        <h2>{{currentResult}}</h2>\n      </v-card>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\nimport info from \"@/information\";\nimport fb from \"@/fb\";\n\nexport default {\n  created: function() {\n    this.init();\n\n    fb.db.collection(\"Resultados\").onSnapshot(res => {\n      const changes = res.docChanges();\n\n      changes.forEach(change => {\n        if (change.type === \"added\") {\n          this.resultsList.push({\n            ...change.doc.data()\n          });\n        }\n      });\n\n      this.setResult();\n    });\n  },\n  data: function() {\n    return {\n      jNum: 0,\n      img: null,\n      resultsList: [],\n      currentResult: \"\"\n    };\n  },\n  methods: {\n    moveJornada: function(direction) {\n      if (direction == 0) {\n        if (this.jNum > 1) {\n          this.jNum--;\n          this.img = require(\"@/assets/Jornadas/j\" + this.jNum + \".png\");\n          this.setResult();\n        }\n      } else if (direction == 1) {\n        if (this.jNum < 30) {\n          this.jNum++;\n          this.img = require(\"@/assets/Jornadas/j\" + this.jNum + \".png\");\n          this.setResult();\n        }\n      }\n    },\n    setResult: function() {\n      let i = 0;\n      let found = false;\n      let size = this.resultsList.length;\n\n      while (i < size && !found) {\n        if (this.jNum == this.resultsList[i].jNum) {\n          found = true;\n        } else {\n          i++;\n        }\n      }\n\n      if (found) {\n        this.currentResult = this.resultsList[i].Result;\n      }\n    },\n    init: function() {\n      Date.prototype.getWeek = function() {\n        let dt = this;\n        var tdt = new Date(dt.valueOf());\n        var dayn = (dt.getDay() + 6) % 7;\n        tdt.setDate(tdt.getDate() - dayn + 3);\n        var firstThursday = tdt.valueOf();\n        tdt.setMonth(0, 1);\n        if (tdt.getDay() !== 4) {\n          tdt.setMonth(0, 1 + ((4 - tdt.getDay() + 7) % 7));\n        }\n        return 1 + Math.ceil((firstThursday - tdt) / 604800000);\n      };\n\n      let today = new Date();\n\n      let todayWeek = today.getWeek();\n\n      let matchIndex = this.lookForMatch(todayWeek);\n\n      if (matchIndex == -1) {\n        this.jNum = 15;\n      } else {\n        this.jNum = info.matches[matchIndex].j;\n      }\n      this.img = require(\"@/assets/Jornadas/j\" + this.jNum + \".png\");\n    },\n    splitDate: function(fecha) {\n      let array = fecha.split(\"/\");\n\n      array[0] = Number(array[0]);\n      array[1] = Number(array[1]);\n      array[2] = Number(array[2]);\n\n      return array.reverse();\n    },\n    lookForMatch: function(week) {\n      let found = false;\n      let i = 0;\n      let size = info.matches.length;\n\n      while (i < size && !found) {\n        let array = this.splitDate(info.matches[i].date);\n        let testDate = new Date(array[0], array[1] - 1, array[2]);\n        let matchWeek = testDate.getWeek();\n\n        if (matchWeek == week) {\n          found = true;\n        } else {\n          i++;\n        }\n      }\n\n      if (found) {\n        return i;\n      } else {\n        return -1;\n      }\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/views"}]}
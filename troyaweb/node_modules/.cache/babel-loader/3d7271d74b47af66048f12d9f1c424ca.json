{"remainingRequest":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/thread-loader/dist/cjs.js!/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/babel-loader/lib/index.js!/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/src/views/LogIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/src/views/LogIn.vue","mtime":1594368706836},{"path":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/DATA SHARE/Documentos/Vue_Troya/troyaweb/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgaW5mbyBmcm9tICJAL2luZm9ybWF0aW9uIjsKaW1wb3J0IGZpcmViYXNlIGZyb20gIkBmaXJlYmFzZS9hcHAiOwppbXBvcnQoImZpcmViYXNlL2F1dGgiKTsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93RGlhbG9nOiB0cnVlLAogICAgICBpbnB1dFVzZXI6ICIiLAogICAgICBpbnB1dFBhc3M6ICIiLAogICAgICBzaG93RXJyb3I6IGZhbHNlLAogICAgICBzaG93U3VjY2VzczogZmFsc2UsCiAgICAgIHNob3dXYXJuOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmlzTG9nKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpc0xvZzogZnVuY3Rpb24gaXNMb2coKSB7CiAgICAgIGlmIChpbmZvLmxvZ0luZm9ybWF0aW9uLmxvZ1N0YXR1cykgewogICAgICAgIHRoaXMuc2hvd1dhcm4gPSB0cnVlOwogICAgICAgIHRoaXMuc2hvd0Vycm9yID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93U3VjY2VzcyA9IGZhbHNlOwogICAgICAgIGluZm8ubG9nSW5mb3JtYXRpb24ubG9nU3RhdHVzID0gZmFsc2U7CiAgICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKS50aGVuKGZ1bmN0aW9uICgpIHsvLyBTaWduLW91dCBzdWNjZXNzZnVsLgogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coIkVycm9yOiAiICsgZXJyb3IpOyAvLyBBbiBlcnJvciBoYXBwZW5lZC4KICAgICAgICB9KTsKICAgICAgICBzZXRUaW1lb3V0KHRoaXMuZ29Ib21lLCAyMDAwKTsKICAgICAgfQogICAgfSwKICAgIGdvSG9tZTogZnVuY3Rpb24gZ29Ib21lKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgfSwKICAgIGZpbmRVc2VyOiBmdW5jdGlvbiBmaW5kVXNlcigpIHsKICAgICAgdmFyIGkgPSAwOwogICAgICB2YXIgc2l6ZSA9IGluZm8uYWNjb3VudHMubGVuZ3RoOwogICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCiAgICAgIHdoaWxlIChpIDwgc2l6ZSAmJiAhZm91bmQpIHsKICAgICAgICBpZiAodGhpcy5pbnB1dFVzZXIgPT0gaW5mby5hY2NvdW50c1tpXS51c2VyICYmIHRoaXMuaW5wdXRQYXNzID09IGluZm8uYWNjb3VudHNbaV0ucGFzcykgewogICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpKys7CiAgICAgICAgfQogICAgICB9CgogICAgICBpbmZvLmxvZ0luZm9ybWF0aW9uLmxvZ1N0YXR1cyA9IHRydWU7CiAgICAgIGluZm8ubG9nSW5mb3JtYXRpb24ubG9nTnVtID0gaSArIDE7CiAgICAgIHJldHVybiB7CiAgICAgICAgZm91bmQ6IGZvdW5kLAogICAgICAgIGFjY291bnQ6IGluZm8uYWNjb3VudHNbaV0KICAgICAgfTsKICAgIH0sCiAgICBzdGFydExvZ0luOiBmdW5jdGlvbiBzdGFydExvZ0luKCkgewogICAgICBpZiAodGhpcy5pbnB1dFVzZXIgPT0gIiIgfHwgdGhpcy5pbnB1dFBhc3MgPT0gIiIpIHsKICAgICAgICB0aGlzLnNob3dFcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5zaG93U3VjY2VzcyA9IGZhbHNlOwogICAgICAgIHRoaXMuc2hvd1dhcm4gPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgdCA9IHRoaXMuZmluZFVzZXIoKTsKCiAgICAgICAgaWYgKHQuZm91bmQpIHsKICAgICAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCh0LmFjY291bnQubWFpbEZCLCB0LmFjY291bnQucGFzc0ZCKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgdmFyIGVycm9yQ29kZSA9IGVycm9yLmNvZGU7CiAgICAgICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlOwogICAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3I6ICIgKyBlcnJvckNvZGUgKyAiIC0tICIgKyBlcnJvck1lc3NhZ2UpOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnNob3dFcnJvciA9IGZhbHNlOwogICAgICAgICAgdGhpcy5zaG93U3VjY2VzcyA9IHRydWU7CiAgICAgICAgICB0aGlzLnNob3dXYXJuID0gZmFsc2U7CiAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuZ29Ib21lLCAyMDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zaG93RXJyb3IgPSB0cnVlOwogICAgICAgICAgdGhpcy5zaG93U3VjY2VzcyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5zaG93V2FybiA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["LogIn.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"try\">\n      <v-toolbar class=\"toolbarPage teal lighten-4 black--text\">\n        <v-spacer></v-spacer>\n\n        <v-toolbar-title>Iniciar Sesión</v-toolbar-title>\n\n        <v-spacer></v-spacer>\n      </v-toolbar>\n    </div>\n\n    <v-row justify=\"center\">\n      <v-dialog v-model=\"showDialog\" persistent max-width=\"500px\">\n        <v-card>\n          <v-card-title>\n            <span class=\"headline\">Iniciar Sesión</span>\n          </v-card-title>\n          <v-card-text>\n            <v-container>\n              <v-row>\n                <v-col cols=\"12\">\n                  <v-text-field v-model=\"inputUser\" label=\"Usuario\" required></v-text-field>\n                </v-col>\n                <v-col cols=\"12\">\n                  <v-text-field v-model=\"inputPass\" label=\"Contraseña\" type=\"password\" required></v-text-field>\n                </v-col>\n              </v-row>\n            </v-container>\n            <v-alert v-model=\"showError\" type=\"error\">Usuario o Contraseña no válida.</v-alert>\n            <v-alert v-model=\"showSuccess\" type=\"success\">Sesión iniciada correctamente.</v-alert>\n            <v-alert\n              v-model=\"showWarn\"\n              type=\"warning\"\n            >Sesión cerrada correctamente. Redirigiendo a la pantalla principal.</v-alert>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"blue darken-1\" text @click=\"goHome\">Cancelar</v-btn>\n            <v-btn color=\"blue darken-1\" text @click=\"startLogIn\">Iniciar</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-row>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\nimport info from \"@/information\";\nimport firebase from \"@firebase/app\";\nimport(\"firebase/auth\");\n\nexport default {\n  data: function() {\n    return {\n      showDialog: true,\n      inputUser: \"\",\n      inputPass: \"\",\n      showError: false,\n      showSuccess: false,\n      showWarn: false\n    };\n  },\n  mounted: function() {\n    this.isLog();\n  },\n  methods: {\n    isLog: function() {\n      if (info.logInformation.logStatus) {\n        this.showWarn = true;\n        this.showError = false;\n        this.showSuccess = false;\n\n        info.logInformation.logStatus = false;\n\n        firebase\n          .auth()\n          .signOut()\n          .then(function() {\n            // Sign-out successful.\n          })\n          .catch(function(error) {\n            console.log(\"Error: \" + error);\n\n            // An error happened.\n          });\n\n        setTimeout(this.goHome, 2000);\n      }\n    },\n    goHome: function() {\n      this.$router.push(\"/\");\n    },\n    findUser: function() {\n      let i = 0;\n      let size = info.accounts.length;\n      let found = false;\n\n      while (i < size && !found) {\n        if (\n          this.inputUser == info.accounts[i].user &&\n          this.inputPass == info.accounts[i].pass\n        ) {\n          found = true;\n        } else {\n          i++;\n        }\n      }\n\n      info.logInformation.logStatus = true;\n      info.logInformation.logNum = i + 1;\n\n      return {\n        found: found,\n        account: info.accounts[i]\n      };\n    },\n    startLogIn: function() {\n      if (this.inputUser == \"\" || this.inputPass == \"\") {\n        this.showError = true;\n        this.showSuccess = false;\n        this.showWarn = false;\n      } else {\n        let t = this.findUser();\n        if (t.found) {\n          firebase\n            .auth()\n            .signInWithEmailAndPassword(t.account.mailFB, t.account.passFB)\n            .catch(function(error) {\n              var errorCode = error.code;\n              var errorMessage = error.message;\n              console.log(\"Error: \" + errorCode + \" -- \" + errorMessage);\n            });\n          this.showError = false;\n          this.showSuccess = true;\n          this.showWarn = false;\n\n          setTimeout(this.goHome, 2000);\n        } else {\n          this.showError = true;\n          this.showSuccess = false;\n          this.showWarn = false;\n        }\n      }\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/views"}]}